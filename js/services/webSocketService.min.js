"use strict";define(["app","webSocket"],function(app,webSocket){app.service("webSocketService",["$rootScope",function($rootScope){this.webSocket=null;this.createWebSocket=function(url){if(this.webSocket==null){this.webSocket=new webSocket(url,null,{debug:false,timeoutInterval:10000})}this.webSocket.onopen=function(event){$rootScope.$broadcast("onOpen",1)};this.webSocket.onerror=function(event){$rootScope.$broadcast("onError",2)};this.webSocket.onclose=function(event){$rootScope.$broadcast("onClose",3)};this.webSocket.onmessage=function(event){$rootScope.$broadcast("onMessage",event.data)}}}])});